/* 保证 markdown-body 背景透明 */
.markdown-body {
  background: transparent !important;
  font-size: 16px;
  line-height: 1.6;
}

/* 移除GitHub默认边框颜色，由主题模式决定 */
.markdown-body table {
  border: none !important;
}

/* 表格响应式处理 - 防止小屏幕溢出 */
.markdown-body .table-container {
  overflow-x: auto !important;
  margin: 1em 0 !important;
  border-radius: 8px !important;
  border: 1px solid #d0d7de !important;
}

.dark .markdown-body .table-container {
  border: 1px solid #30363d !important;
}

/* 表格基础样式优化 */
.markdown-body table {
  min-width: 100% !important;
  white-space: nowrap !important;
}

.markdown-body table th,
.markdown-body table td {
  min-width: 100px !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
}

/* 小屏幕下的表格优化 */
@media (max-width: 640px) {
  .markdown-body table {
    font-size: 14px !important;
    white-space: normal !important;
  }

  .markdown-body table th,
  .markdown-body table td {
    min-width: 80px !important;
    padding: 4px 8px !important;
    word-break: break-word !important;
    white-space: normal !important;
  }

  /* 小屏幕下整体 Markdown 内容优化 */
  .markdown-body {
    font-size: 15px !important;
    line-height: 1.65 !important;
  }

  .markdown-body h1 {
    font-size: 1.75em !important;
    margin: 1.2em 0 0.6em 0 !important;
  }

  .markdown-body h2 {
    font-size: 1.4em !important;
    margin: 1.2em 0 0.5em 0 !important;
  }

  .markdown-body h3 {
    font-size: 1.2em !important;
    margin: 1.1em 0 0.4em 0 !important;
  }

  .markdown-body p {
    margin: 0.8em 0 !important;
  }

  .markdown-body blockquote {
    margin: 0.8em 0 !important;
    padding: 0 0.75em !important;
  }

  .markdown-body ul,
  .markdown-body ol {
    padding-left: 1.5em !important;
    margin: 0.8em 0 !important;
  }

  .markdown-body li {
    margin: 0.3em 0 !important;
  }
}

/* 修复列表样式 */
.markdown-body ul {
  list-style-type: disc !important;
  padding-left: 2em !important;
  margin: 1em 0 !important;
}

.markdown-body ol {
  list-style-type: decimal !important;
  padding-left: 2em !important;
  margin: 1em 0 !important;
}

.markdown-body li {
  margin: 0.5em 0 !important;
  line-height: 1.6 !important;
}

.markdown-body li > ul,
.markdown-body li > ol {
  margin: 0.5em 0 !important;
}

/* 标题样式优化 */
.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
  margin: 1.5em 0 0.5em 0 !important;
  font-weight: 600 !important;
  line-height: 1.25 !important;
}

.markdown-body h1 {
  font-size: 2em !important;
  border-bottom: 1px solid #eaecef !important;
  padding-bottom: 0.3em !important;
}

.markdown-body h2 {
  font-size: 1.5em !important;
  border-bottom: 1px solid #eaecef !important;
  padding-bottom: 0.3em !important;
}

.markdown-body h3 {
  font-size: 1.25em !important;
}

/* 段落间距 */
.markdown-body p {
  margin: 1em 0 !important;
  line-height: 1.7 !important;
}

/* 引用块样式 */
.markdown-body blockquote {
  margin: 1em 0 !important;
  padding: 0 1em !important;
  border-left: 4px solid #dfe2e5 !important;
  background: #f6f8fa !important;
}

/* 代码块样式 */
.markdown-body pre {
  margin: 1em 0 !important;
  padding: 1em !important;
  border-radius: 8px !important;
  overflow-x: auto !important;
  background: #f6f8fa !important;
  max-width: 100% !important;
  word-wrap: break-word !important;
}

/* 小屏幕下代码块优化 */
@media (max-width: 640px) {
  .markdown-body pre {
    padding: 0.75em !important;
    font-size: 14px !important;
    line-height: 1.4 !important;
  }

  .markdown-body pre code {
    white-space: pre-wrap !important;
    word-break: break-word !important;
  }
}

.markdown-body code:not(pre code) {
  padding: 0.2em 0.4em !important;
  margin: 0 !important;
  font-size: 85% !important;
  background: #f6f8fa !important;
  border-radius: 3px !important;
}

/* 图片样式 */
.markdown-body img {
  max-width: 100% !important;
  height: auto !important;
  border-radius: 8px !important;
  margin: 1em 0 !important;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1) !important;
}

/* 小屏幕下图片优化 */
@media (max-width: 640px) {
  .markdown-body img {
    margin: 0.75em 0 !important;
    border-radius: 6px !important;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1) !important;
  }
}

/* 链接样式 */
.markdown-body a {
  color: #0969da !important;
  text-decoration: none !important;
  font-weight: 500 !important;
}

.markdown-body a:hover {
  text-decoration: underline !important;
}

/* 水平分割线 */
.markdown-body hr {
  height: 0.25em !important;
  padding: 0 !important;
  margin: 2em 0 !important;
  background-color: #d0d7de !important;
  border: 0 !important;
}

/* 强调文本 */
.markdown-body strong {
  font-weight: 600 !important;
}

.markdown-body em {
  font-style: italic !important;
}

/* 删除线 */
.markdown-body del {
  text-decoration: line-through !important;
}

/* 任务列表 */
.markdown-body .task-list-item {
  list-style-type: none !important;
}

.markdown-body .task-list-item input {
  margin: 0 0.2em 0.25em -1.6em !important;
  vertical-align: middle !important;
}

/* 浅色模式样式 */
:root:not(.dark) .markdown-body {
  color: #1a1a1a !important;
}

:root:not(.dark) .markdown-body pre,
:root:not(.dark) .markdown-body code {
  background: #f6f8fa !important;
  color: #1a1a1a !important;
}

/* 浅色模式下表格样式修复 */
:root:not(.dark) .markdown-body table {
  border-collapse: collapse;
  display: table;
  width: 100%;
  margin: 1em 0;
}

:root:not(.dark) .markdown-body table tr {
  background-color: #ffffff;
  border-top: 1px solid #d0d7de;
}

:root:not(.dark) .markdown-body table tr:nth-child(2n) {
  background-color: #f6f8fa;
}

:root:not(.dark) .markdown-body table th,
:root:not(.dark) .markdown-body table td {
  border: 1px solid #d0d7de;
  padding: 6px 13px;
}

/* 深色模式样式 */
.dark .markdown-body {
  color: #d1d5db !important;
}

.dark .markdown-body pre,
.dark .markdown-body code {
  background: #161b22 !important;
  color: #d1d5db !important;
}

/* 深色模式下的列表、标题等样式 */
.dark .markdown-body h1,
.dark .markdown-body h2 {
  border-bottom: 1px solid #30363d !important;
}

.dark .markdown-body blockquote {
  border-left: 4px solid #30363d !important;
  background: #161b22 !important;
}

.dark .markdown-body code:not(pre code) {
  background: #161b22 !important;
  color: #d1d5db !important;
}

.dark .markdown-body img {
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3) !important;
}

.dark .markdown-body a {
  color: #58a6ff !important;
}

.dark .markdown-body hr {
  background-color: #30363d !important;
}

/* 深色模式下表格样式修复 */
.dark .markdown-body table {
  border-collapse: collapse;
  display: table;
  width: 100%;
  margin: 1em 0;
}

.dark .markdown-body table tr {
  background-color: #0d1117;
  border-top: 1px solid #30363d;
}

.dark .markdown-body table tr:nth-child(2n) {
  background-color: #161b22;
}

.dark .markdown-body table th,
.dark .markdown-body table td {
  border: 1px solid #30363d;
  padding: 6px 13px;
}

/* 移除 @layer utilities，直接定义 wiggle 动画工具类 */
.animate-wiggle {
  animation: wiggle 0.3s ease-in-out;
}
@keyframes wiggle {
  0%,
  100% {
    transform: translateX(0);
  }
  20% {
    transform: translateX(-4px);
  }
  80% {
    transform: translateX(2px);
  }
}
